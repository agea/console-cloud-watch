!function(e,o,n){"use strict";"function"==typeof window.define&&window.define.amd?window.define(n):"undefined"!=typeof module&&module.exports?module.exports=n():o.exports?o.exports=n():o.ConsoleCloudWatch=n()}(0,this,function(){return function(e,o,n,t,c,r,s){function a(){setInterval(function(){var e=i.splice(0);e.length&&l.putLogEvents({logEvents:e,sequenceToken:localStorage.getItem("ConsoleCloudWatch:sequenceToken"),logGroupName:t,logStreamName:localStorage.getItem("ConsoleCloudWatch:stream")},function(o,n){o&&(i=e.concat(i),"InvalidSequenceTokenException"==o.code&&localStorage.setItem("ConsoleCloudWatch:sequenceToken",o.message.split("The next expected sequenceToken is: ")[1])),n&&localStorage.setItem("ConsoleCloudWatch:sequenceToken",n.nextSequenceToken)})},r||1e4)}function u(e){l.createLogStream({logGroupName:t,logStreamName:e},function(o,n){o&&"ResourceAlreadyExistsException"!==o.code?console.log(o,o.stack):(localStorage.setItem("ConsoleCloudWatch:stream",e),a())})}var i=[],l=new AWS.CloudWatchLogs({accessKeyId:e,secretAccessKey:o,region:n});localStorage.getItem("ConsoleCloudWatch:stream")?a():"undefined"==typeof Fingerprint2?u(function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()):(new Fingerprint2).get(function(e,o){u(e)}),window.onerror=function(e,o,n,t,c){StackTrace.fromError(c).then(function(n){var t=e+"\n"+o+"\n"+n.map(function(e){return e.toString()}).join("\n");i.push({message:t,timestamp:(new Date).getTime()})})},"undefined"!=typeof console&&(c||["error"]).forEach(function(e){var o=console[e];console[e]=function(e){i.push({message:e,timestamp:(new Date).getTime()}),s||o(e)}})}});